(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{54:function(t,e,c){},55:function(t,e,c){},82:function(t,e,c){"use strict";c.r(e);var a=c(0),r=c.n(a),n=c(22),s=c.n(n),i=(c(54),c(55),c(18)),d=c(5),o=c(6),l=c(44),j=c.n(l),u=c(1);var b=function(){var t=Object(o.e)((function(t){return t.cart})).cartTotalQuantity;return Object(u.jsx)("div",{children:Object(u.jsxs)("nav",{className:"nav-bar",children:[Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("h2",{children:"OnlineShop"})}),Object(u.jsx)(i.b,{to:"/cart",children:Object(u.jsxs)("div",{className:"nav-bag",children:[Object(u.jsx)(j.a,{className:"icon"}),Object(u.jsx)("span",{className:"bag-quantity",children:Object(u.jsx)("span",{children:t})})]})})]})})},m=c(29),h=c.n(m),O=c(28),p=c(3),x={cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],cartTotalQuantity:0,cartTotalAmount:0},f=Object(p.d)({name:"cart",initialState:x,reducers:{addToCart:function(t,e){var c=t.cartItems.findIndex((function(t){return t.id===e.payload.id}));if(c>=0)t.cartItems[c].cartQuantity+=1;else{var a=Object(O.a)(Object(O.a)({},e.payload),{},{cartQuantity:1});t.cartItems.push(a)}localStorage.setItem("cartItems",JSON.stringify(t.cartItems))},removeFromCart:function(t,e){var c=t.cartItems.filter((function(t){return t.id!==e.payload.id}));t.cartItems=c,localStorage.setItem("cartItems",JSON.stringify(t.cartItems))},decreaseCart:function(t,e){var c=t.cartItems.findIndex((function(t){return t.id===e.payload.id}));if(t.cartItems[c].cartQuantity>1)t.cartItems[c].cartQuantity-=1;else if(1===t.cartItems[c].cartQuantity){var a=t.cartItems.filter((function(t){return t.id!==e.payload.id}));t.cartItems=a}localStorage.setItem("cartItems",JSON.stringify(t.cartItems))},clearCart:function(t){t.cartItems=[],localStorage.setItem("cartItems",JSON.stringify(t.cartItems))},getTotals:function(t){var e=t.cartItems.reduce((function(t,e){var c=e.price,a=e.cartQuantity,r=c*a;return t.total+=r,t.quantity+=a,t}),{total:0,quantity:0}),c=e.total,a=e.quantity;t.cartTotalQuantity=a,t.cartTotalAmount=c}}}),v=f.actions,N=v.addToCart,g=v.removeFromCart,y=v.decreaseCart,I=v.clearCart,S=v.getTotals,C=f.reducer;var Q=function(){var t,e=Object(o.e)((function(t){return t.cart})),c=Object(o.d)();return Object(a.useEffect)((function(){c(S())}),[e,c]),Object(u.jsxs)("div",{className:"cart-container",children:[Object(u.jsx)("h2",{children:"Shopping Cart"}),0===e.cartItems.length?Object(u.jsxs)("div",{className:"cart-empty",children:[Object(u.jsx)("p",{children:"Your cart is currently empty"}),Object(u.jsx)("div",{className:"start-shopping",children:Object(u.jsxs)(i.b,{to:"/",children:[Object(u.jsx)(h.a,{}),Object(u.jsx)("span",{children:"Start Shopping"})]})})]}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"titles",children:[Object(u.jsx)("h3",{className:"product-title",children:"Product"}),Object(u.jsx)("h3",{className:"price",children:"Price"}),Object(u.jsx)("h3",{className:"quantity",children:"Quantity"}),Object(u.jsx)("h3",{className:"total",children:"Total"})]}),Object(u.jsx)("div",{className:"cart-items",children:null===(t=e.cartItems)||void 0===t?void 0:t.map((function(t){return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsxs)("div",{className:"cart-product",children:[Object(u.jsx)("img",{src:t.image,alt:t.name}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:t.title}),Object(u.jsx)("button",{onClick:function(){return function(t){c(g(t))}(t)},children:"Remove"})]})]}),Object(u.jsxs)("div",{className:"cart-product-price",children:["$",t.price]}),Object(u.jsxs)("div",{className:"cart-product-quantity",children:[Object(u.jsx)("button",{onClick:function(){return function(t){c(y(t))}(t)},children:"-"}),Object(u.jsx)("div",{className:"count",children:t.cartQuantity}),Object(u.jsx)("button",{onClick:function(){return function(t){c(N(t))}(t)},children:"+"})]}),Object(u.jsxs)("div",{className:"cart-product-total-price",children:["$",t.price*t.cartQuantity]})]},t.id)}))}),Object(u.jsxs)("div",{className:"cart-summary",children:[Object(u.jsx)("button",{className:"clear-cart",onClick:function(){c(I())},children:"Clear Cart"}),Object(u.jsxs)("div",{className:"cart-checkout",children:[Object(u.jsxs)("div",{className:"cart-subtotal",children:[Object(u.jsx)("span",{children:"Subtotal"}),Object(u.jsxs)("span",{className:"amount",children:["$",e.cartTotalAmount]})]}),Object(u.jsx)("p",{children:"Taxes and shipping calculated at checkout"}),Object(u.jsx)("button",{children:"Check out"}),Object(u.jsx)("div",{className:"continue-shopping",children:Object(u.jsxs)(i.b,{to:"/",children:[Object(u.jsx)(h.a,{}),"Continue Shopping"]})})]})]})]})]})},k=c(45),T=c(9),A=Object(k.a)({reducerPath:"productsApi",baseQuery:Object(T.d)({baseUrl:"https://fakestoreapi.com/"}),endpoints:function(t){return{getAllProducts:t.query({query:function(){return"products?limit=20"}})}}}),q=A.useGetAllProductsQuery;var w=function(){var t=q(),e=t.data,c=t.error,a=t.isLoading,r=Object(o.d)(),n=Object(d.g)();return Object(u.jsx)("div",{className:"home-container",children:a?Object(u.jsx)("p",{children:"Loading..."}):c?Object(u.jsx)("p",{children:"An error occured..."}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"New Arrivals"}),Object(u.jsx)("div",{className:"products",children:null===e||void 0===e?void 0:e.map((function(t){return Object(u.jsxs)("div",{className:"product",children:[Object(u.jsx)("h3",{children:t.title}),Object(u.jsx)("img",{src:t.image,alt:t.name}),Object(u.jsx)("div",{className:"details",children:Object(u.jsxs)("span",{className:"price",children:["$",t.price]})}),Object(u.jsx)("button",{className:"btn",onClick:function(){return function(t){r(N(t)),n.push("/cart")}(t)},children:"Add To Cart"})]},t.id)}))})]})})};var J=function(){return Object(u.jsxs)("div",{className:"not-found",children:[Object(u.jsx)("h2",{children:"404"}),Object(u.jsx)("p",{children:"Page not found"})]})};var P,F=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)(b,{}),Object(u.jsxs)(d.d,{children:[Object(u.jsx)(d.b,{path:"/cart",component:Q}),Object(u.jsx)(d.b,{path:"/",exact:!0,component:w}),Object(u.jsx)(d.b,{path:"/not-found",component:J}),Object(u.jsx)(d.a,{to:"/not-found"})]})]})})},$=c(19),E=c(46),L=c(30),R=c.n(L),B=c(47),G=c(48),M=c.n(G),U=Object(p.c)("products/productsFetch",Object(B.a)(R.a.mark((function t(){var e;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.get("https://fakestoreapi.com/products?limit=20");case 2:return e=t.sent,t.abrupt("return",null===e||void 0===e?void 0:e.data);case 4:case"end":return t.stop()}}),t)})))),Y=Object(p.d)({name:"products",initialState:{items:[],status:null},reducers:{},extraReducers:(P={},Object($.a)(P,U.pending,(function(t,e){t.status="pending"})),Object($.a)(P,U.fulfilled,(function(t,e){t.status="success",t.items=e.payload})),Object($.a)(P,U.rejected,(function(t,e){t.status="rejected"})),P)});Object(E.a)(Y.actions);var z=Y.reducer,D=Object(p.a)({reducer:Object($.a)({products:z,cart:C},A.reducerPath,A.reducer),middleware:function(t){return t().concat(A.middleware)}});D.dispatch(U()),D.dispatch(S()),s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(o.a,{store:D,children:Object(u.jsx)(F,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.de147394.chunk.js.map